# 2장. 테스트

### 스프링의 가장 핵심적인 가치 = 객체지향설계 & 테스트

### 작은단위의 테스트

- 테스트 대상이 명확하다면 그 대상에 집중해서 테스트 하는 것이 바람직.
→ 단위로 쪼개서 테스트하다면 집중하면 좋다.
- 각 단위별로 테스트를 먼저 진행하고 나서 긴 테스트를 진행 한다면?

### 자동수행 테스트 코드

- 테스트를 지속적으로 하는 것은 지루하고 불편함 → 자동화의 필요성
- 별도로 테스트용 클래스를 만들어서 테스트 코드를 삽입하는 것이 좋다.

### 지속적인 개선과 점진적인 개발을 위한 테스트

- 가장 단순한 등록과 조회기능을 만들고 이를 테스트하고 검증해서 만든 코드에 확신을 갖는다.
- 조금씩 점진적인 개발이 가능하다.

---

### 2.2 UserDaoTest 개선

- 자바에는 단순하면서도 실용적인 테스트를 위한 도구가 여러가지 존재.
- ***JUnit***
    - 기존의 main 을 없애고, 제어를 역전하여 JUnit `프레임워크` 를 이용해본다.
    - 메서드가 public 이여야 하며, @TEST 어노테이션을 추가한다.

```java
@Test
public void addAndGet() throws SQLException{
	ApplicationContext context = 
		new ClassPathXmlApplicationContext("applicationContext.xml");
	UserDao dao = context.getBean("userDao", UserDao.class);
}
```

### 검증 코드 전환

`assertThat` 이라는 스테틱 메서드를 이용해 다음과 같이 변경할 수 있습니다.

- `asertThat(user2.getName(),is(user.getName())`

---

### JUnit 테스트 실행

- main 메소드에 JUnitCore 클래스를 호출하는 간단한 코드를 넣어준다.

```java
JUnitCore.main("springbook.user.dao.UserDaoTest");
```

---

### 2.3.3 포괄적인 테스트