# [인덱스의 튜닝]

### 테이블 액세스의 최소화

- 인덱스 ROWID는 물리적주소? 논리적주소?

```sql
select * from 고객 Where 지역 = '서울'
-----------------------------------
SELECT STATEMENT Optimizer = ALL_ROWS
TABLE ACCESS BY INDEX ROWID OF '고객'
INDEX RANGE SCAN OF '고객_지역_IDX'
```

- 여기서의 ROWID가 물리적주소의 정보(테이블 레코드의 위치 정보)를 담고있는 논리적 주소에 가깝다.
- 기본적인 시퀀스는 다음과 같다.
- SQL의 성능을 높히려면, 입출력을 줄이고 버퍼캐시를 활용해야 한다.(매번 디스크를 읽을 수 없기 때문)
- 해시함수를 통해 해시 체인과 버퍼헤더를 찾음. 버퍼헤더를 통해 버퍼블록을 찾아간다.

---

### 인덱스 클러스터링 팩터

- 특정 컬럼을 기준으로 같은 값을 갖는 데이터가 서로 모여있는 정도
❓블록단위 입출력은 같은것 아닌가? 싶을수 있다 하지만, 오라클기준으로 래치획득과 해시체인 스캔과정, 즉 논리적 입출력 과정이 생략될 수 있다.

---

- 무조건 적인 인덱스가 좋은것도 아니며, 테이블 풀스캔이 늘 안좋은것도 아니다.
- 처리 대상 집합 중 일부 → 인덱스와 NL조인, 대량 데이터의 처리 → 풀스캔과 해시 조인
- 테이블을 파티셔닝하는 이유는 결국 풀스캔을 하기 위함.